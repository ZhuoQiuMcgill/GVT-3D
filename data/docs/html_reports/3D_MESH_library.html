<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>交互式 Python 3D 可视化库选型指南</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f1f5f9; /* slate-100 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link:hover {
            color: #4f46e5; /* indigo-600 */
        }
        .active-nav {
            color: #4f46e5;
            border-bottom: 2px solid #4f46e5;
        }
        .recommendation-card {
            transition: all 0.3s ease-in-out;
            border: 2px solid transparent;
        }
        .highlight-recommendation {
            border-color: #4f46e5;
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        [x-cloak] {
            display: none;
        }
    </style>
</head>
<body class="text-slate-700">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="text-xl font-bold text-slate-800">
                <span class="text-indigo-600">3D</span><span class="font-light">库选型指南</span>
            </div>
            <div class="hidden md:flex items-center space-x-6 text-sm font-medium">
                <a href="#hero" class="nav-link">首页</a>
                <a href="#comparison" class="nav-link">特性对比</a>
                <a href="#wizard" class="nav-link">选型向导</a>
                <a href="#libraries" class="nav-link">库详解</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-slate-600 hover:bg-slate-100">
                 <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-4 pb-4 space-y-2 text-sm">
            <a href="#hero" class="block py-2 px-3 rounded-md hover:bg-slate-100">首页</a>
            <a href="#comparison" class="block py-2 px-3 rounded-md hover:bg-slate-100">特性对比</a>
            <a href="#wizard" class="block py-2 px-3 rounded-md hover:bg-slate-100">选型向导</a>
            <a href="#libraries" class="block py-2 px-3 rounded-md hover:bg-slate-100">库详解</a>
        </div>
    </header>

    <main>
        <section id="hero" class="py-20 md:py-28 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-5xl font-bold text-slate-900 leading-tight">Python 3D Mesh 可视化</h1>
                <h2 class="text-4xl md:text-5xl font-bold text-indigo-600 leading-tight mb-4">库选型指南</h2>
                <p class="text-lg text-slate-600 max-w-3xl mx-auto mb-8">
                    本应用将详细的调研报告转化为一个交互式工具，旨在帮助您根据项目需求，快速、准确地选择最合适的 Python 3D 可视化库。
                </p>
                <a href="#wizard" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-full hover:bg-indigo-700 transition-transform transform hover:scale-105">
                    启动选型向导
                </a>
            </div>
        </section>
        
        <section id="needs" class="py-16">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-slate-800">核心需求分析</h2>
                    <p class="mt-2 text-md text-slate-500">一个成功的3D可视化项目，通常需要工具库在以下几个方面表现出色。</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="text-indigo-500 mb-4">
                            <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                        </div>
                        <h3 class="text-lg font-semibold text-slate-800 mb-2">数据加载与集成</h3>
                        <p class="text-sm text-slate-600">能够轻松加载 `.obj` 等标准格式，并与自定义的 NumPy 数组或 Python 数据结构无缝集成。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                         <div class="text-indigo-500 mb-4">
                            <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>
                        </div>
                        <h3 class="text-lg font-semibold text-slate-800 mb-2">交互式相机</h3>
                        <p class="text-sm text-slate-600">提供流畅的、用户驱动的相机操控，包括旋转、平移和缩放，以便从任意角度观察模型。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="text-indigo-500 mb-4">
                           <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg>
                        </div>
                        <h3 class="text-lg font-semibold text-slate-800 mb-2">多模式显示</h3>
                        <p class="text-sm text-slate-600">支持在点、线框和表面（带光照）三种基本显示模式之间轻松切换，以进行全面的几何分析。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="text-indigo-500 mb-4">
                           <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                        </div>
                        <h3 class="text-lg font-semibold text-slate-800 mb-2">处理与性能</h3>
                        <p class="text-sm text-slate-600">具备高效的网格处理能力和渲染性能，能够应对从简单模型到大规模数据集的挑战。</p>
                    </div>
                </div>
            </div>
        </section>


        <section id="comparison" class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-slate-800">库特性对比</h2>
                    <p class="mt-2 text-md text-slate-500">直观比较各库在关键维度上的表现。</p>
                </div>
                <div class="chart-container">
                    <canvas id="comparisonChart"></canvas>
                </div>
            </div>
        </section>

        <section id="wizard" class="py-16">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-slate-800">交互式选型向导</h2>
                    <p class="mt-2 text-md text-slate-500">选择您的主要项目目标，我们将为您高亮推荐最合适的库。</p>
                </div>

                <div class="max-w-2xl mx-auto mb-8 bg-white p-6 rounded-lg shadow">
                    <h3 class="font-semibold text-slate-800 mb-4">1. 我的首要目标是...</h3>
                    <fieldset id="goal-selector" class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                        <div>
                            <input type="radio" name="goal" value="general" id="goal-general" class="hidden peer" checked>
                            <label for="goal-general" class="block text-center cursor-pointer rounded-lg border border-slate-300 p-4 peer-checked:border-indigo-600 peer-checked:text-indigo-600 peer-checked:font-semibold hover:bg-slate-50">通用可视化</label>
                        </div>
                        <div>
                            <input type="radio" name="goal" value="analysis" id="goal-analysis" class="hidden peer">
                            <label for="goal-analysis" class="block text-center cursor-pointer rounded-lg border border-slate-300 p-4 peer-checked:border-indigo-600 peer-checked:text-indigo-600 peer-checked:font-semibold hover:bg-slate-50">复杂几何分析</label>
                        </div>
                        <div>
                            <input type="radio" name="goal" value="web" id="goal-web" class="hidden peer">
                            <label for="goal-web" class="block text-center cursor-pointer rounded-lg border border-slate-300 p-4 peer-checked:border-indigo-600 peer-checked:text-indigo-600 peer-checked:font-semibold hover:bg-slate-50">Web应用部署</label>
                        </div>
                    </fieldset>
                </div>

                <div class="mt-8">
                    <h3 class="font-semibold text-center text-slate-800 mb-2">2. 推荐结果</h3>
                    <div id="recommendation-output" class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="recommendation-card bg-white p-6 rounded-lg shadow-md" data-lib="pyvista">
                            <h4 class="text-xl font-bold text-slate-900">PyVista</h4>
                            <p class="text-sm font-medium text-indigo-600 mb-3">综合推荐：强大且易用</p>
                            <p class="text-sm text-slate-600">封装VTK，API友好，`style`参数直接支持点/线/面切换，社区活跃。是功能、性能和易用性之间绝佳的平衡点。</p>
                        </div>
                        <div class="recommendation-card bg-white p-6 rounded-lg shadow-md" data-lib="vedo">
                             <h4 class="text-xl font-bold text-slate-900">Vedo</h4>
                            <p class="text-sm font-medium text-indigo-600 mb-3">综合推荐：简洁流畅</p>
                            <p class="text-sm text-slate-600">同样基于VTK，API设计简洁，支持链式调用。内置丰富的网格处理函数，非常适合快速原型开发和可视化。</p>
                        </div>
                        <div class="recommendation-card bg-white p-6 rounded-lg shadow-md" data-lib="open3d">
                             <h4 class="text-xl font-bold text-slate-900">Open3D</h4>
                            <p class="text-sm font-medium text-teal-600 mb-3">备选推荐：现代化与算法</p>
                            <p class="text-sm text-slate-600">现代化的API，全面的3D处理算法（如配准、重建）。若未来项目涉及复杂的3D数据处理，这是强有力的候选者。</p>
                        </div>
                        <div class="recommendation-card bg-white p-6 rounded-lg shadow-md" data-lib="trimesh">
                            <h4 class="text-xl font-bold text-slate-900">Trimesh</h4>
                            <p class="text-sm font-medium text-amber-600 mb-3">特定场景：处理核心</p>
                            <p class="text-sm text-slate-600">纯Python库，核心优势是强大的网格处理和几何分析能力。可视化是其辅助功能，适合以数据处理为核心的项目。</p>
                        </div>
                        <div class="recommendation-card bg-white p-6 rounded-lg shadow-md" data-lib="plotly">
                            <h4 class="text-xl font-bold text-slate-900">Plotly</h4>
                            <p class="text-sm font-medium text-sky-600 mb-3">特定场景：Web集成</p>
                            <p class="text-sm text-slate-600">构建Web应用和在线仪表板的最佳选择。与Dash无缝集成。点/线模式需要模拟，但Web交互性是其核心优势。</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="libraries" class="py-16 bg-white" x-data="{ openTab: 'open3d-code' }">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-slate-800">库深度解析</h2>
                    <p class="mt-2 text-md text-slate-500">探索每个库的实现细节、优势和考量。</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 items-start">

                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 space-y-4">
                        <h3 class="text-2xl font-bold text-slate-800">Open3D</h3>
                        <p class="text-sm text-slate-600">专注于3D数据处理和可视化的现代开源库，算法丰富，性能良好。</p>
                        <div class="flex border-b border-slate-200 text-sm">
                            <button @click="openTab = 'open3d-code'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'open3d-code', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'open3d-code' }" class="py-2 px-4 border-b-2 font-medium">代码示例</button>
                            <button @click="openTab = 'open3d-info'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'open3d-info', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'open3d-info' }" class="py-2 px-4 border-b-2 font-medium">分析</button>
                        </div>
                        <div x-show="openTab === 'open3d-code'" x-cloak>
                            <div class="relative bg-slate-800 text-white rounded-lg p-4 font-mono text-xs">
                                <button onclick="copyCode(this)" class="absolute top-2 right-2 bg-slate-600 hover:bg-slate-500 text-white text-xs px-2 py-1 rounded">复制</button>
                                <pre><code class="language-python">import open3d as o3d
import numpy as np

# 从numpy数组创建
mesh = o3d.geometry.TriangleMesh()
mesh.vertices = o3d.utility.Vector3dVector(verts)
mesh.triangles = o3d.utility.Vector3iVector(faces)
mesh.compute_vertex_normals()

# 可视化 (表面)
o3d.visualization.draw_geometries([mesh])

# 可视化 (线框)
vis = o3d.visualization.Visualizer()
vis.create_window()
vis.add_geometry(mesh)
opt = vis.get_render_option()
opt.mesh_show_wireframe = True
vis.run()
vis.destroy_window()

# 可视化 (点)
pcd = o3d.geometry.PointCloud()
pcd.points = mesh.vertices
o3d.visualization.draw_geometries([pcd])
</code></pre>
                            </div>
                        </div>
                        <div x-show="openTab === 'open3d-info'" x-cloak class="text-sm space-y-3">
                           <p><strong class="text-slate-700">优势：</strong>现代化API，全面的3D处理算法，性能良好。</p>
                           <p><strong class="text-slate-700">考量：</strong>显示模式切换依赖`RenderOption`对象，相对PyVista/Vedo略显间接。点模式显示的最佳实践是转换为`PointCloud`对象。</p>
                        </div>
                    </div>

                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 space-y-4">
                        <h3 class="text-2xl font-bold text-slate-800">PyVista</h3>
                        <p class="text-sm text-slate-600">VTK的Pythonic高级接口，易用性高，科学可视化功能强大。</p>
                        <div class="flex border-b border-slate-200 text-sm">
                            <button @click="openTab = 'pyvista-code'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'pyvista-code', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'pyvista-code' }" class="py-2 px-4 border-b-2 font-medium">代码示例</button>
                            <button @click="openTab = 'pyvista-info'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'pyvista-info', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'pyvista-info' }" class="py-2 px-4 border-b-2 font-medium">分析</button>
                        </div>
                        <div x-show="openTab === 'pyvista-code'" x-cloak>
                            <div class="relative bg-slate-800 text-white rounded-lg p-4 font-mono text-xs">
                                <button onclick="copyCode(this)" class="absolute top-2 right-2 bg-slate-600 hover:bg-slate-500 text-white text-xs px-2 py-1 rounded">复制</button>
                                <pre><code class="language-python">import pyvista as pv
import numpy as np

# 从numpy数组创建 (注意 padded faces)
padded_faces = np.c_[np.full(len(faces), 3), faces]
mesh = pv.PolyData(verts, faces=padded_faces)

# 使用Plotter进行可视化
plotter = pv.Plotter()
# 表面
plotter.add_mesh(mesh, style='surface', show_edges=True)
# 线框
# plotter.add_mesh(mesh, style='wireframe', color='blue')
# 点
# plotter.add_mesh(mesh, style='points', render_points_as_spheres=True)
plotter.show()
</code></pre>
                            </div>
                        </div>
                        <div x-show="openTab === 'pyvista-info'" x-cloak class="text-sm space-y-3">
                            <p><strong class="text-slate-700">优势：</strong>API非常直观，`add_mesh`的`style`参数可直接切换点/线/面，文档和社区支持优秀。</p>
                           <p><strong class="text-slate-700">考量：</strong>从自定义数据创建时，需要将面数组转换为"padded"格式（每个面索引前加顶点数）。</p>
                        </div>
                    </div>
                    
                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 space-y-4">
                        <h3 class="text-2xl font-bold text-slate-800">Vedo</h3>
                        <p class="text-sm text-slate-600">同样基于VTK，强调简洁流畅的API，支持链式调用，内置丰富功能。</p>
                        <div class="flex border-b border-slate-200 text-sm">
                            <button @click="openTab = 'vedo-code'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'vedo-code', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'vedo-code' }" class="py-2 px-4 border-b-2 font-medium">代码示例</button>
                            <button @click="openTab = 'vedo-info'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'vedo-info', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'vedo-info' }" class="py-2 px-4 border-b-2 font-medium">分析</button>
                        </div>
                        <div x-show="openTab === 'vedo-code'" x-cloak>
                            <div class="relative bg-slate-800 text-white rounded-lg p-4 font-mono text-xs">
                                <button onclick="copyCode(this)" class="absolute top-2 right-2 bg-slate-600 hover:bg-slate-500 text-white text-xs px-2 py-1 rounded">复制</button>
                                <pre><code class="language-python">import vedo
import numpy as np

# 从numpy数组创建
mesh = vedo.Mesh([verts, faces])

# 显示不同模式 (支持链式调用)
# 表面
mesh.show(axes=1)
# 线框
# mesh.wireframe().show(axes=1)
# 点
# mesh.points().point_size(5).show(axes=1)
</code></pre>
                            </div>
                        </div>
                        <div x-show="openTab === 'vedo-info'" x-cloak class="text-sm space-y-3">
                            <p><strong class="text-slate-700">优势：</strong>API设计极为简洁，链式调用代码紧凑易读，模式切换非常直接，内置大量网格处理功能。</p>
                           <p><strong class="text-slate-700">考量：</strong>与PyVista同为VTK前端，选择上更多是API风格偏好问题。</p>
                        </div>
                    </div>
                    
                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 space-y-4">
                        <h3 class="text-2xl font-bold text-slate-800">Trimesh</h3>
                        <p class="text-sm text-slate-600">纯Python库，核心是网格处理与分析，可视化为辅助功能。</p>
                        <div class="flex border-b border-slate-200 text-sm">
                            <button @click="openTab = 'trimesh-code'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'trimesh-code', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'trimesh-code' }" class="py-2 px-4 border-b-2 font-medium">代码示例</button>
                            <button @click="openTab = 'trimesh-info'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'trimesh-info', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'trimesh-info' }" class="py-2 px-4 border-b-2 font-medium">分析</button>
                        </div>
                        <div x-show="openTab === 'trimesh-code'" x-cloak>
                            <div class="relative bg-slate-800 text-white rounded-lg p-4 font-mono text-xs">
                                <button onclick="copyCode(this)" class="absolute top-2 right-2 bg-slate-600 hover:bg-slate-500 text-white text-xs px-2 py-1 rounded">复制</button>
                                <pre><code class="language-python">import trimesh
import numpy as np

# 从numpy数组创建
mesh = trimesh.Trimesh(vertices=verts, faces=faces)

# 通过Scene对象可视化
scene = trimesh.Scene(mesh)
scene.show()

# 线框模式: 在查看器窗口按 'w'
# 点模式: 创建PointCloud对象
point_cloud = trimesh.points.PointCloud(mesh.vertices)
scene_pts = trimesh.Scene(point_cloud)
scene_pts.show()

</code></pre>
                            </div>
                        </div>
                        <div x-show="openTab === 'trimesh-info'" x-cloak class="text-sm space-y-3">
                            <p><strong class="text-slate-700">优势：</strong>无与伦比的几何处理和分析能力（布尔运算、修复、分割等），纯Python依赖少。</p>
                           <p><strong class="text-slate-700">考量：</strong>可视化功能相对基础，程序化控制显示模式（如线框）不直接，更适合作为后台处理引擎。</p>
                        </div>
                    </div>
                    
                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 space-y-4">
                        <h3 class="text-2xl font-bold text-slate-800">Plotly</h3>
                        <p class="text-sm text-slate-600">强大的Web交互式绘图库，与Dash无缝集成，构建在线仪表板的首选。</p>
                        <div class="flex border-b border-slate-200 text-sm">
                            <button @click="openTab = 'plotly-code'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'plotly-code', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'plotly-code' }" class="py-2 px-4 border-b-2 font-medium">代码示例</button>
                            <button @click="openTab = 'plotly-info'" :class="{ 'border-indigo-500 text-indigo-600': openTab === 'plotly-info', 'border-transparent text-slate-500 hover:text-slate-700': openTab !== 'plotly-info' }" class="py-2 px-4 border-b-2 font-medium">分析</button>
                        </div>
                        <div x-show="openTab === 'plotly-code'" x-cloak>
                            <div class="relative bg-slate-800 text-white rounded-lg p-4 font-mono text-xs">
                                <button onclick="copyCode(this)" class="absolute top-2 right-2 bg-slate-600 hover:bg-slate-500 text-white text-xs px-2 py-1 rounded">复制</button>
                                <pre><code class="language-python">import plotly.graph_objects as go

# 从numpy数组创建
fig = go.Figure(data=[
    go.Mesh3d(
        x=verts[:, 0], y=verts[:, 1], z=verts[:, 2],
        i=faces[:, 0], j=faces[:, 1], k=faces[:, 2],
        opacity=0.6
    )
])

# 点/线模式需要用Scatter3d模拟
# fig.add_trace(go.Scatter3d(
#     x=verts[:,0], y=verts[:,1], z=verts[:,2], mode='markers'
# ))

fig.show()
</code></pre>
                            </div>
                        </div>
                        <div x-show="openTab === 'plotly-info'" x-cloak class="text-sm space-y-3">
                            <p><strong class="text-slate-700">优势：</strong>顶级的Web交互性和部署能力，与Dash结合可快速构建功能强大的Web应用。</p>
                           <p><strong class="text-slate-700">考量：</strong>不直接支持点/线框模式，需要用`Scatter3d`模拟，增加了数据准备的复杂度。本身不提供3D文件加载和高级处理功能。</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
    </main>

    <footer class="bg-slate-800 text-slate-300 py-8">
        <div class="container mx-auto px-6 text-center text-sm">
            <p>&copy; 2024 交互式Python 3D可视化库选型指南。基于技术报告转化而成。</p>
            <p class="mt-1">此应用仅为教学和演示目的。</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');

            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 60) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active-nav');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active-nav');
                    }
                });
            });

            const ctx = document.getElementById('comparisonChart').getContext('2d');
            const comparisonChart = new Chart(ctx, {
                type: 'bubble',
                data: {
                    datasets: [{
                        label: 'PyVista',
                        data: [{x: 8.5, y: 8, r: 15}],
                        backgroundColor: 'rgba(79, 70, 229, 0.7)',
                    }, {
                        label: 'Vedo',
                        data: [{x: 9, y: 7.5, r: 15}],
                        backgroundColor: 'rgba(56, 189, 248, 0.7)',
                    }, {
                        label: 'Open3D',
                        data: [{x: 7, y: 9, r: 12}],
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                    }, {
                        label: 'Trimesh',
                        data: [{x: 5, y: 9.5, r: 8}],
                        backgroundColor: 'rgba(245, 158, 11, 0.7)',
                    }, {
                        label: 'Plotly',
                        data: [{x: 8, y: 6, r: 25}],
                        backgroundColor: 'rgba(239, 68, 68, 0.7)',
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top' },
                        title: {
                            display: true,
                            text: '各库特性概览',
                            font: { size: 16 }
                        },
                         tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    const r = context.raw.r;
                                    let webIntegration = '低';
                                    if (r > 10) webIntegration = '中';
                                    if (r > 20) webIntegration = '高';
                                    
                                    label += `(易用性: ${context.raw.x}, 功能丰富度: ${context.raw.y}, Web集成: ${webIntegration})`;
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: '易用性 / API简洁度'
                            },
                            min: 4,
                            max: 10
                        },
                        y: {
                            title: {
                                display: true,
                                text: '功能丰富度 / 处理能力'
                            },
                            min: 5,
                            max: 10
                        }
                    }
                }
            });

            const goalSelector = document.getElementById('goal-selector');
            const recommendationCards = document.querySelectorAll('.recommendation-card');

            const recommendations = {
                general: ['pyvista', 'vedo', 'open3d'],
                analysis: ['trimesh', 'open3d', 'pyvista'],
                web: ['plotly', 'pyvista']
            };

            function updateRecommendations() {
                const selectedGoal = document.querySelector('input[name="goal"]:checked').value;
                const recommendedLibs = recommendations[selectedGoal];
                
                recommendationCards.forEach(card => {
                    const lib = card.getAttribute('data-lib');
                    if (recommendedLibs.includes(lib)) {
                        card.classList.add('highlight-recommendation');
                    } else {
                        card.classList.remove('highlight-recommendation');
                    }
                });
            }

            goalSelector.addEventListener('change', updateRecommendations);
            updateRecommendations(); 
        });

        function copyCode(button) {
            const pre = button.nextElementSibling;
            const code = pre.querySelector('code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                button.innerText = '已复制!';
                setTimeout(() => {
                    button.innerText = '复制';
                }, 2000);
            }).catch(err => {
                console.error('Could not copy text: ', err);
            });
        }
        
        document.addEventListener('alpine:init', () => {
            Alpine.data('tabs', () => ({
                openTab: 'open3d-code',
            }))
        })
    </script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</body>
</html>
